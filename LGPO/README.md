# Overview

Contained within this directory are salt state files, one for each Windows group policy.
These were generated by scanning `C:\Windows\PolicyDefinitions`. The folder structure
follows the path scheme and layout found in the Administrative Templates section in the 
Windows Local Group Policy Editor.

There are a total of 4280 LPGO states contained within this directory.
A full list can be found [here](https://gitlab.twe.io/merix_studio/bacon-states/-/blob/lgpo/LGPO/README_LGPO_LIST.md)

## LGPO Contents

The top line of each sls file contains an identifier which indicates supported Windows
OS versions for the policy. E.g. 
```
# windows:SUPPORTED_Windows_10_0_RS2
#
```
This is followed by the help contents (as yaml comments) 
found in the policy definition and as seen in the Local Group Policy editor.

The policies,
where applicable, contain "placeholders" for variables which should be filled in by
the user who is applying the state. Examples for each placeholder type are shown below.

Some policies don't have extra parameters, e.g. `Computer/Control Panel/Personalization/CPL_Personalization_NoChangingLockScreen.sls`
```
Prevent changing lock screen and logon image:
  lgpo.set:
  - name: CPL_Personalization_NoChangingLockScreen
  - setting: Enabled
  - policy_class: Machine
```

In this case, you may set `setting` equal to `Enabled`, `Disabled`, or `Not Configured`.

Some have paramters of type `enum`, e.g. `Computer/Control Panel/Regional and Language Options/LockMachineUILanguage.sls`
```
Restricts the UI language Windows uses for all logged users:
  lgpo.set:
  - name: LockMachineUILanguage
  - setting:
      UILangSelect: enum-placeholder
  - policy_class: Machine
```

These take specific arguments. It is recommended to view the available options in the Local Group Policy Editor. E.g.
```
Restricts the UI language Windows uses for all logged users:
  lgpo.set:
  - name: LockMachineUILanguage
  - setting:
      UILangSelect: English
  - policy_class: Machine
```

Some have placeholder type `text` and/or placeholder type `boolean`. The following example has both, e.g. `Control Panel/Personalization/CPL_Personalization_ForceDefaultLockScreen.sls`
```
Force a specific default lock screen and logon image:
  lgpo.set:
  - name: CPL_Personalization_ForceDefaultLockScreen
  - setting:
      LockScreenImage: text-placeholder
      LockScreenOverlaysDisabled: boolean-placeholder
  - policy_class: Machine
```
Which might be filled in as follows.
```
Force a specific default lock screen and logon image:
  lgpo.set:
  - name: CPL_Personalization_ForceDefaultLockScreen
  - setting:
      LockScreenImage: "C:\Users\bacon\MrsPiggy.jpg"
      LockScreenOverlaysDisabled: False
  - policy_class: Machine
```

Furthermore, some have placeholder type `decimal`, e.g. `Control Panel/Personalization/CPL_Personalization_StartBackground.sls`
```
Force a specific Start background:
  lgpo.set:
  - name: CPL_Personalization_StartBackground
  - setting:
      StartBackgroundSpin: decimal-placeholder
  - policy_class: Machine
```
Often the provided help can inform of valid choices, e.g.
```
Force a specific Start background:
  lgpo.set:
  - name: CPL_Personalization_StartBackground
  - setting:
      StartBackgroundSpin: 1
  - policy_class: Machine
```

Additionally, any policy with additional parameters can be `Disabled` or `Not Configured` by simply specifying such, without additional paramaters, e.g.
```
Force a specific Start background:
  lgpo.set:
  - name: CPL_Personalization_StartBackground
  - setting: Not Configured
  - policy_class: Machine
```

## Failed LGPOs

Below is a list of the currently known failed LGPO states

- `Computer.Network.Lanman Server.Pol_CipherSuiteOrder`
- `Computer.Network.Lanman Workstation.Pol_CipherSuiteOrder`
- `Computer.System.KDC.ForestSearch`
- `Computer.System.Kerberos.DevicePKInitEnabled`
- `Computer.System.Kerberos.ForestSearch`
- `Computer.System.Troubleshooting and Diagnostics.Corrupted File Recovery.WdiScenarioExecutionPolicy`
- `Computer.System.Troubleshooting and Diagnostics.Disk Diagnostic.WdiScenarioExecutionPolicy`
- `Computer.System.Troubleshooting and Diagnostics.Fault Tolerant Heap.WdiScenarioExecutionPolicy`
- `Computer.System.Troubleshooting and Diagnostics.Microsoft Support Diagnostic Tool.WdiScenarioExecutionPolicy`
- `Computer.System.Troubleshooting and Diagnostics.MSI Corrupted File Recovery.WdiScenarioExecutionPolicy`
- `Computer.System.Troubleshooting and Diagnostics.Windows Memory Leak Diagnosis.WdiScenarioExecutionPolicy`
- `Computer.System.Troubleshooting and Diagnostics.Windows Performance PerfTrack.WdiScenarioExecutionPolicy`
- `Computer.System.Troubleshooting and Diagnostics.Windows Resource Exhaustion Detection and Resolution.WdiScenarioExecutionPolicy`
- `Computer.Windows Components.Event Log Service.Application.Channel_Log_Retention_1`
- `Computer.Windows Components.Event Log Service.Security.Channel_Log_Retention_2`
- `Computer.Windows Components.Event Log Service.Setup.Channel_Log_Retention_3`
- `Computer.Windows Components.Event Log Service.System.Channel_Log_Retention_4`
- `Computer.Windows Components.Internet Explorer.EnterpriseModeSiteList`
- `Computer.Windows Components.Microsoft Edge.EnterpriseModeSiteList`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Applications.Calculator`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Applications.Notepad`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Finance`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Games`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Maps`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Music`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.News`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Reader`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Sports`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Travel`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Video`
- `Computer.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Weather`
- `Computer.Windows Components.Windows Remote Shell.MaxConcurrentUsers`
- `User.Windows Components.Internet Explorer.EnterpriseModeSiteList`
- `User.Windows Components.Internet Explorer.Administrator Approved Controls.Carpoint`
- `User.Windows Components.Internet Explorer.Administrator Approved Controls.Investor`
- `User.Windows Components.Internet Explorer.Administrator Approved Controls.MSNBC`
- `User.Windows Components.Microsoft Edge.EnterpriseModeSiteList`
- `User.Windows Components.Microsoft User Experience Virtualization.Applications.Calculator`
- `User.Windows Components.Microsoft User Experience Virtualization.Applications.Notepad`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Finance`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Games`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Maps`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Music`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.News`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Reader`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Sports`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Travel`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Video`
- `User.Windows Components.Microsoft User Experience Virtualization.Windows Apps.Weather`